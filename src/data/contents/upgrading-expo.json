{
  "content": "\n## References\n\n- ./references/new-architecture.md -- SDK +53: New Architecture migration guide\n- ./references/react-19.md -- SDK +54: React 19 changes (useContext → use, Context.Provider → Context, forwardRef removal)\n- ./references/react-compiler.md -- SDK +54: React Compiler setup and migration guide\n- ./references/native-tabs.md -- SDK +55: Native tabs changes (Icon/Label/Badge now accessed via NativeTabs.Trigger.\\*)\n- ./references/expo-av-to-audio.md -- Migrate audio playback and recording from expo-av to expo-audio\n- ./references/expo-av-to-video.md -- Migrate video playback from expo-av to expo-video\n\n## Beta/Preview Releases\n\nBeta versions use `.preview` suffix (e.g., `55.0.0-preview.2`), published under `@next` tag.\n\nCheck if latest is beta: https://exp.host/--/api/v2/versions (look for `-preview` in `expoVersion`)\n\n```bash\nnpx expo install expo@next --fix  # install beta\n```\n\n## Step-by-Step Upgrade Process\n\n1. Upgrade Expo and dependencies\n\n```bash\nnpx expo install expo@latest\nnpx expo install --fix\n```\n\n2. Run diagnostics: `npx expo-doctor`\n\n3. Clear caches and reinstall\n\n```bash\nnpx expo export -p ios --clear\nrm -rf node_modules .expo\nwatchman watch-del-all\n```\n\n## Breaking Changes Checklist\n\n- Check for removed APIs in release notes\n- Update import paths for moved modules\n- Review native module changes requiring prebuild\n- Test all camera, audio, and video features\n- Verify navigation still works correctly\n\n## Prebuild for Native Changes\n\nIf upgrading requires native changes:\n\n```bash\nnpx expo prebuild --clean\n```\n\nThis regenerates the `ios` and `android` directories. Ensure the project is not a bare workflow app before running this command.\n\n## Clear caches for bare workflow\n\n- Clear the cocoapods cache for iOS: `cd ios && pod install --repo-update`\n- Clear derived data for Xcode: `npx expo run:ios --no-build-cache`\n- Clear the Gradle cache for Android: `cd android && ./gradlew clean`\n\n## Housekeeping\n\n- Review release notes for the target SDK version at https://expo.dev/changelog\n- If using Expo SDK 54 or later, ensure react-native-worklets is installed — this is required for react-native-reanimated to work.\n- Enable React Compiler in SDK 54+ by adding `\"experiments\": { \"reactCompiler\": true }` to app.json — it's stable and recommended\n- Delete sdkVersion from `app.json` to let Expo manage it automatically\n- Remove implicit packages from `package.json`: `@babel/core`, `babel-preset-expo`, `expo-constants`.\n- If the babel.config.js only contains 'babel-preset-expo', delete the file\n- If the metro.config.js only contains expo defaults, delete the file\n\n## Deprecated Packages\n\n| Old Package          | Replacement                                          |\n| -------------------- | ---------------------------------------------------- |\n| `expo-av`            | `expo-audio` and `expo-video`                        |\n| `expo-permissions`   | Individual package permission APIs                   |\n| `@expo/vector-icons` | `expo-symbols` (for SF Symbols)                      |\n| `AsyncStorage`       | `expo-sqlite/localStorage/install`                   |\n| `expo-app-loading`   | `expo-splash-screen`                                 |\n| expo-linear-gradient | experimental_backgroundImage + CSS gradients in View |\n\nWhen migrating deprecated packages, update all code usage before removing the old package. For expo-av, consult the migration references to convert Audio.Sound to useAudioPlayer, Audio.Recording to useAudioRecorder, and Video components to VideoView with useVideoPlayer.\n\n## expo.install.exclude\n\nCheck if package.json has excluded packages:\n\n```json\n{\n  \"expo\": { \"install\": { \"exclude\": [\"react-native-reanimated\"] } }\n}\n```\n\nExclusions are often workarounds that may no longer be needed after upgrading. Review each one.\n## Removing patches\n\nCheck if there are any outdated patches in the `patches/` directory. Remove them if they are no longer needed.\n\n## Postcss\n\n- `autoprefixer` isn't needed in SDK +53. Remove it from dependencies and check `postcss.config.js` or `postcss.config.mjs` to remove it from the plugins list.\n- Use `postcss.config.mjs` in SDK +53.\n\n## Metro\n\nRemove redundant metro config options:\n\n- resolver.unstable_enablePackageExports is enabled by default in SDK +53.\n- `experimentalImportSupport` is enabled by default in SDK +54.\n- `EXPO_USE_FAST_RESOLVER=1` is removed in SDK +54.\n- cjs and mjs extensions are supported by default in SDK +50.\n- Expo webpack is deprecated, migrate to [Expo Router and Metro web](https://docs.expo.dev/router/migrate/from-expo-webpack/).\n\n## New Architecture\n\nThe new architecture is enabled by default, the app.json field `\"newArchEnabled\": true` is no longer needed as it's the default. Expo Go only supports the new architecture as of SDK +53.\n",
  "files": [
    {
      "name": "SKILL.md",
      "path": "upgrading-expo/SKILL.md",
      "type": "markdown",
      "relativePath": "SKILL.md"
    }
  ]
}