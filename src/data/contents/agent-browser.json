{
  "content": "\n# Browser Automation with agent-browser\n\n## Quick start\n\n```bash\nagent-browser open <url>        # Navigate to page\nagent-browser snapshot -i       # Get interactive elements with refs\nagent-browser click @e1         # Click element by ref\nagent-browser fill @e2 \"text\"   # Fill input by ref\nagent-browser close             # Close browser\n```\n\n## Core workflow\n\n1. Navigate: `agent-browser open <url>`\n2. Snapshot: `agent-browser snapshot -i` (returns elements with refs like `@e1`, `@e2`)\n3. Interact using refs from the snapshot\n4. Re-snapshot after navigation or significant DOM changes\n\n## Commands\n\n### Navigation\n```bash\nagent-browser open <url>      # Navigate to URL\nagent-browser back            # Go back\nagent-browser forward         # Go forward\nagent-browser reload          # Reload page\nagent-browser close           # Close browser\n```\n\n### Snapshot (page analysis)\n```bash\nagent-browser snapshot            # Full accessibility tree\nagent-browser snapshot -i         # Interactive elements only (recommended)\nagent-browser snapshot -c         # Compact output\nagent-browser snapshot -d 3       # Limit depth to 3\nagent-browser snapshot -s \"#main\" # Scope to CSS selector\n```\n\n### Interactions (use @refs from snapshot)\n```bash\nagent-browser click @e1           # Click\nagent-browser dblclick @e1        # Double-click\nagent-browser focus @e1           # Focus element\nagent-browser fill @e2 \"text\"     # Clear and type\nagent-browser type @e2 \"text\"     # Type without clearing\nagent-browser press Enter         # Press key\nagent-browser press Control+a     # Key combination\nagent-browser keydown Shift       # Hold key down\nagent-browser keyup Shift         # Release key\nagent-browser hover @e1           # Hover\nagent-browser check @e1           # Check checkbox\nagent-browser uncheck @e1         # Uncheck checkbox\nagent-browser select @e1 \"value\"  # Select dropdown\nagent-browser scroll down 500     # Scroll page\nagent-browser scrollintoview @e1  # Scroll element into view\nagent-browser drag @e1 @e2        # Drag and drop\nagent-browser upload @e1 file.pdf # Upload files\n```\n\n### Get information\n```bash\nagent-browser get text @e1        # Get element text\nagent-browser get html @e1        # Get innerHTML\nagent-browser get value @e1       # Get input value\nagent-browser get attr @e1 href   # Get attribute\nagent-browser get title           # Get page title\nagent-browser get url             # Get current URL\nagent-browser get count \".item\"   # Count matching elements\nagent-browser get box @e1         # Get bounding box\n```\n\n### Check state\n```bash\nagent-browser is visible @e1      # Check if visible\nagent-browser is enabled @e1      # Check if enabled\nagent-browser is checked @e1      # Check if checked\n```\n\n### Screenshots & PDF\n```bash\nagent-browser screenshot          # Screenshot to stdout\nagent-browser screenshot path.png # Save to file\nagent-browser screenshot --full   # Full page\nagent-browser pdf output.pdf      # Save as PDF\n```\n\n### Video recording\n```bash\nagent-browser record start ./demo.webm    # Start recording (uses current URL + state)\nagent-browser click @e1                   # Perform actions\nagent-browser record stop                 # Stop and save video\nagent-browser record restart ./take2.webm # Stop current + start new recording\n```\nRecording creates a fresh context but preserves cookies/storage from your session.\n\n### Wait\n```bash\nagent-browser wait @e1                     # Wait for element\nagent-browser wait 2000                    # Wait milliseconds\nagent-browser wait --text \"Success\"        # Wait for text\nagent-browser wait --url \"**/dashboard\"    # Wait for URL pattern\nagent-browser wait --load networkidle      # Wait for network idle\nagent-browser wait --fn \"window.ready\"     # Wait for JS condition\n```\n\n### Mouse control\n```bash\nagent-browser mouse move 100 200      # Move mouse\nagent-browser mouse down left         # Press button\nagent-browser mouse up left           # Release button\nagent-browser mouse wheel 100         # Scroll wheel\n```\n\n### Semantic locators (alternative to refs)\n```bash\nagent-browser find role button click --name \"Submit\"\nagent-browser find text \"Sign In\" click\nagent-browser find label \"Email\" fill \"user@test.com\"\nagent-browser find first \".item\" click\nagent-browser find nth 2 \"a\" text\n```\n\n### Browser settings\n```bash\nagent-browser set viewport 1920 1080      # Set viewport size\nagent-browser set device \"iPhone 14\"      # Emulate device\nagent-browser set geo 37.7749 -122.4194   # Set geolocation\nagent-browser set offline on              # Toggle offline mode\nagent-browser set headers '{\"X-Key\":\"v\"}' # Extra HTTP headers\nagent-browser set credentials user pass   # HTTP basic auth\nagent-browser set media dark              # Emulate color scheme\n```\n\n### Cookies & Storage\n```bash\nagent-browser cookies                     # Get all cookies\nagent-browser cookies set name value      # Set cookie\nagent-browser cookies clear               # Clear cookies\nagent-browser storage local               # Get all localStorage\nagent-browser storage local key           # Get specific key\nagent-browser storage local set k v       # Set value\nagent-browser storage local clear         # Clear all\nagent-browser storage session             # Get all sessionStorage\nagent-browser storage session key         # Get specific key\nagent-browser storage session set k v     # Set value\nagent-browser storage session clear       # Clear all\n```\n\n### Network\n```bash\nagent-browser network route <url>              # Intercept requests\nagent-browser network route <url> --abort      # Block requests\nagent-browser network route <url> --body '{}'  # Mock response\nagent-browser network unroute [url]            # Remove routes\nagent-browser network requests                 # View tracked requests\nagent-browser network requests --filter api    # Filter requests\n```\n\n### Tabs & Windows\n```bash\nagent-browser tab                 # List tabs\nagent-browser tab new [url]       # New tab\nagent-browser tab 2               # Switch to tab\nagent-browser tab close           # Close tab\nagent-browser window new          # New window\n```\n\n### Frames\n```bash\nagent-browser frame \"#iframe\"     # Switch to iframe\nagent-browser frame main          # Back to main frame\n```\n\n### Dialogs\n```bash\nagent-browser dialog accept [text]  # Accept dialog\nagent-browser dialog dismiss        # Dismiss dialog\n```\n\n### JavaScript\n```bash\nagent-browser eval \"document.title\"   # Run JavaScript\n```\n\n## Global Options\n\n| Option | Description |\n|--------|-------------|\n| `--session <name>` | Isolated browser session (`AGENT_BROWSER_SESSION` env) |\n| `--profile <path>` | Persistent browser profile (`AGENT_BROWSER_PROFILE` env) |\n| `--headers <json>` | HTTP headers scoped to URL's origin |\n| `--executable-path <path>` | Custom browser binary (`AGENT_BROWSER_EXECUTABLE_PATH` env) |\n| `--args <args>` | Browser launch args (`AGENT_BROWSER_ARGS` env) |\n| `--user-agent <ua>` | Custom User-Agent (`AGENT_BROWSER_USER_AGENT` env) |\n| `--proxy <url>` | Proxy server (`AGENT_BROWSER_PROXY` env) |\n| `--proxy-bypass <hosts>` | Hosts to bypass proxy (`AGENT_BROWSER_PROXY_BYPASS` env) |\n| `-p, --provider <name>` | Cloud browser provider (`AGENT_BROWSER_PROVIDER` env) |\n| `--json` | Machine-readable JSON output |\n| `--headed` | Show browser window (not headless) |\n| `--cdp <port\\|wss://url>` | Connect via Chrome DevTools Protocol |\n| `--debug` | Debug output |\n\n## Example: Form submission\n\n```bash\nagent-browser open https://example.com/form\nagent-browser snapshot -i\n# Output shows: textbox \"Email\" [ref=e1], textbox \"Password\" [ref=e2], button \"Submit\" [ref=e3]\n\nagent-browser fill @e1 \"user@example.com\"\nagent-browser fill @e2 \"password123\"\nagent-browser click @e3\nagent-browser wait --load networkidle\nagent-browser snapshot -i  # Check result\n```\n\n## Example: Authentication with saved state\n\n```bash\n# Login once\nagent-browser open https://app.example.com/login\nagent-browser snapshot -i\nagent-browser fill @e1 \"username\"\nagent-browser fill @e2 \"password\"\nagent-browser click @e3\nagent-browser wait --url \"**/dashboard\"\nagent-browser state save auth.json\n\n# Later sessions: load saved state\nagent-browser state load auth.json\nagent-browser open https://app.example.com/dashboard\n```\n\n### Header-based Auth (Skip login flows)\n```bash\n# Headers scoped to api.example.com only\nagent-browser open api.example.com --headers '{\"Authorization\": \"Bearer <token>\"}'\n# Navigate to another domain - headers NOT sent (safe)\nagent-browser open other-site.com\n# Global headers (all domains)\nagent-browser set headers '{\"X-Custom-Header\": \"value\"}'\n```\n\n## Sessions & Persistent Profiles\n\n### Sessions (parallel browsers)\n```bash\nagent-browser --session test1 open site-a.com\nagent-browser --session test2 open site-b.com\nagent-browser session list\n```\n\n### Persistent Profiles\nPersists cookies, localStorage, IndexedDB, service workers, cache, login sessions across browser restarts.\n```bash\nagent-browser --profile ~/.myapp-profile open myapp.com\n# Or via env var\nAGENT_BROWSER_PROFILE=~/.myapp-profile agent-browser open myapp.com\n```\n- Use different profile paths for different projects\n- Login once → restart browser → still logged in\n- Stores: cookies, localStorage, IndexedDB, service workers, browser cache\n\n## JSON output (for parsing)\n\nAdd `--json` for machine-readable output:\n```bash\nagent-browser snapshot -i --json\nagent-browser get text @e1 --json\n```\n\n## Debugging\n\n```bash\nagent-browser open example.com --headed              # Show browser window\nagent-browser console                                # View console messages\nagent-browser errors                                 # View page errors\nagent-browser record start ./debug.webm              # Record from current page\nagent-browser record stop                            # Save recording\nagent-browser connect 9222                           # Local CDP port\nagent-browser --cdp \"wss://browser-service.com/cdp?token=...\" snapshot  # Remote via WebSocket\nagent-browser console --clear                        # Clear console\nagent-browser errors --clear                         # Clear errors\nagent-browser highlight @e1                          # Highlight element\nagent-browser trace start                            # Start recording trace\nagent-browser trace stop trace.zip                   # Stop and save trace\n```\n\n---\n\n## Installation\n\n### Step 1: Install agent-browser CLI\n\n```bash\nbun add -g agent-browser\n```\n\n### Step 2: Install Playwright browsers\n\n**IMPORTANT**: `agent-browser install` may fail on some platforms (e.g., darwin-arm64) with \"No binary found\" error. In that case, install Playwright browsers directly:\n\n```bash\n# Create a temp project and install playwright\ncd /tmp && bun init -y && bun add playwright\n\n# Install Chromium browser\nbun playwright install chromium\n```\n\nThis downloads Chrome for Testing to `~/Library/Caches/ms-playwright/`.\n\n### Verify installation\n\n```bash\nagent-browser open https://example.com --headed\n```\n\nIf the browser opens successfully, installation is complete.\n\n### Troubleshooting\n\n| Error | Solution |\n|-------|----------|\n| `No binary found for darwin-arm64` | Run `bun playwright install chromium` in a project with playwright dependency |\n| `Executable doesn't exist at .../chromium-XXXX` | Re-run `bun playwright install chromium` |\n| Browser doesn't open | Ensure `--headed` flag is used for visible browser |\n\n---\nRun `agent-browser --help` for all commands. Repo: https://github.com/vercel-labs/agent-browser\n",
  "files": [
    {
      "name": "SKILL.md",
      "path": "agent-browser/SKILL.md",
      "type": "markdown",
      "relativePath": "SKILL.md"
    }
  ]
}