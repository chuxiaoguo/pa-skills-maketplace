{
  "content": "\n# Next.js Documentation Updater\n\nGuides you through updating Next.js documentation based on code changes on the active branch. Designed for maintainers reviewing PRs for documentation completeness.\n\n## Quick Start\n\n1. **Analyze changes**: Run `git diff canary...HEAD --stat` to see what files changed\n2. **Identify affected docs**: Map changed source files to documentation paths\n3. **Review each doc**: Walk through updates with user confirmation\n4. **Validate**: Run `pnpm lint` to check formatting\n5. **Commit**: Stage documentation changes\n\n## Workflow: Analyze Code Changes\n\n### Step 1: Get the diff\n\n```bash\n# See all changed files on this branch\ngit diff canary...HEAD --stat\n\n# See changes in specific areas\ngit diff canary...HEAD -- packages/next/src/\n```\n\n### Step 2: Identify documentation-relevant changes\n\nLook for changes in these areas:\n\n| Source Path                            | Likely Doc Impact           |\n| -------------------------------------- | --------------------------- |\n| `packages/next/src/client/components/` | Component API reference     |\n| `packages/next/src/server/`            | Function API reference      |\n| `packages/next/src/shared/lib/`        | Varies by export            |\n| `packages/next/src/build/`             | Configuration or build docs |\n| `packages/next/src/lib/`               | Various features            |\n\n### Step 3: Map to documentation files\n\nUse the code-to-docs mapping in `references/CODE-TO-DOCS-MAPPING.md` to find corresponding documentation files.\n\nExample mappings:\n\n- `src/client/components/image.tsx` → `docs/01-app/03-api-reference/02-components/image.mdx`\n- `src/server/config-shared.ts` → `docs/01-app/03-api-reference/05-config/`\n\n## Workflow: Update Existing Documentation\n\n### Step 1: Read the current documentation\n\nBefore making changes, read the existing doc to understand:\n\n- Current structure and sections\n- Frontmatter fields in use\n- Whether it uses `<AppOnly>` / `<PagesOnly>` for router-specific content\n\n### Step 2: Identify what needs updating\n\nCommon updates include:\n\n- **New props/options**: Add to the props table and create a section explaining usage\n- **Changed behavior**: Update descriptions and examples\n- **Deprecated features**: Add deprecation notices and migration guidance\n- **New examples**: Add code blocks following conventions\n\n### Step 3: Apply updates with confirmation\n\nFor each change:\n\n1. Show the user what you plan to change\n2. Wait for confirmation before editing\n3. Apply the edit\n4. Move to the next change\n\n### Step 4: Check for shared content\n\nIf the doc uses the `source` field pattern (common for Pages Router docs), the source file is the one to edit. Example:\n\n```yaml\n# docs/02-pages/... file with shared content\n---\nsource: app/building-your-application/optimizing/images\n---\n```\n\nEdit the App Router source, not the Pages Router file.\n\n### Step 5: Validate changes\n\n```bash\npnpm lint          # Check formatting\npnpm prettier-fix  # Auto-fix formatting issues\n```\n\n## Workflow: Scaffold New Feature Documentation\n\nUse this when adding documentation for entirely new features.\n\n### Step 1: Determine the doc type\n\n| Feature Type        | Doc Location                                        | Template         |\n| ------------------- | --------------------------------------------------- | ---------------- |\n| New component       | `docs/01-app/03-api-reference/02-components/`       | API Reference    |\n| New function        | `docs/01-app/03-api-reference/04-functions/`        | API Reference    |\n| New config option   | `docs/01-app/03-api-reference/05-config/`           | Config Reference |\n| New concept/guide   | `docs/01-app/02-guides/`                            | Guide            |\n| New file convention | `docs/01-app/03-api-reference/03-file-conventions/` | File Convention  |\n\n### Step 2: Create the file with proper naming\n\n- Use kebab-case: `my-new-feature.mdx`\n- Add numeric prefix if ordering matters: `05-my-new-feature.mdx`\n- Place in the correct directory based on feature type\n\n### Step 3: Use the appropriate template\n\n**API Reference Template:**\n\n```mdx\n---\ntitle: Feature Name\ndescription: Brief description of what this feature does.\n---\n\n{/* The content of this doc is shared between the app and pages router. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}\n\nBrief introduction to the feature.\n\n## Reference\n\n### Props\n\n<div style={{ overflowX: 'auto', width: '100%' }}>\n\n| Prop                    | Example            | Type   | Status   |\n| ----------------------- | ------------------ | ------ | -------- |\n| [`propName`](#propname) | `propName=\"value\"` | String | Required |\n\n</div>\n\n#### `propName`\n\nDescription of the prop.\n\n\\`\\`\\`tsx filename=\"app/example.tsx\" switcher\n// TypeScript example\n\\`\\`\\`\n\n\\`\\`\\`jsx filename=\"app/example.js\" switcher\n// JavaScript example\n\\`\\`\\`\n```\n\n**Guide Template:**\n\n```mdx\n---\ntitle: How to do X in Next.js\nnav_title: X\ndescription: Learn how to implement X in your Next.js application.\n---\n\nIntroduction explaining why this guide is useful.\n\n## Prerequisites\n\nWhat the reader needs to know before starting.\n\n## Step 1: First Step\n\nExplanation and code example.\n\n\\`\\`\\`tsx filename=\"app/example.tsx\" switcher\n// Code example\n\\`\\`\\`\n\n## Step 2: Second Step\n\nContinue with more steps...\n\n## Next Steps\n\nRelated topics to explore.\n```\n\n### Step 4: Add related links\n\nUpdate frontmatter with related documentation:\n\n```yaml\nrelated:\n  title: Next Steps\n  description: Learn more about related features.\n  links:\n    - app/api-reference/functions/related-function\n    - app/guides/related-guide\n```\n\n## Documentation Conventions\n\nSee `references/DOC-CONVENTIONS.md` for complete formatting rules.\n\n### Quick Reference\n\n**Frontmatter (required):**\n\n```yaml\n---\ntitle: Page Title (2-3 words)\ndescription: One or two sentences describing the page.\n---\n```\n\n**Code blocks:**\n\n```\n\\`\\`\\`tsx filename=\"app/page.tsx\" switcher\n// TypeScript first\n\\`\\`\\`\n\n\\`\\`\\`jsx filename=\"app/page.js\" switcher\n// JavaScript second\n\\`\\`\\`\n```\n\n**Router-specific content:**\n\n```mdx\n<AppOnly>Content only for App Router docs.</AppOnly>\n\n<PagesOnly>Content only for Pages Router docs.</PagesOnly>\n```\n\n**Notes:**\n\n```mdx\n> **Good to know**: Single line note.\n\n> **Good to know**:\n>\n> - Multi-line note point 1\n> - Multi-line note point 2\n```\n\n## Validation Checklist\n\nBefore committing documentation changes:\n\n- [ ] Frontmatter has `title` and `description`\n- [ ] Code blocks have `filename` attribute\n- [ ] TypeScript examples use `switcher` with JS variant\n- [ ] Props tables are properly formatted\n- [ ] Related links point to valid paths\n- [ ] `pnpm lint` passes\n- [ ] Changes render correctly (if preview available)\n\n## References\n\n- `references/DOC-CONVENTIONS.md` - Complete frontmatter and formatting rules\n- `references/CODE-TO-DOCS-MAPPING.md` - Source code to documentation mapping\n",
  "files": [
    {
      "name": "SKILL.md",
      "path": "update-docs/SKILL.md",
      "type": "markdown",
      "relativePath": "SKILL.md"
    }
  ]
}